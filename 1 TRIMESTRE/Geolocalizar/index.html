<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Extra - Geolocalización - Plamen Atanasov Eftimov</title>
	<style>
	  #mapa {
	    height: 100%;
	  }
	  html, body {
	    height: 100%;
	    margin: 0;
	    padding: 0;
	  }
	</style>

</head>
<body>

	<div id="coordenadas">

	</div>

	<div id="mapa">


	</div>



	<script>

		let lat = 0;
		let long = 0;
		let map;

		function initMap(){

			map = new google.maps.Map(document.getElementById('mapa'), {
			  center: {lat: lat, lng: long},
			  zoom: 8
			});

		}


		function mostrarCoordenadas( pos ){
			document.getElementById( "coordenadas" ).innerHTML = "Coordenadas: " + pos.coords.latitude + ", " + pos.coords.longitude;

			map.setCenter(new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude));

			var marker = new google.maps.Marker({
			 	position: {lat: pos.coords.latitude, lng: pos.coords.longitude},
			  	map: map,
			 	title: 'Mi ubicación'
			});

		}

		function obtenerCoordenadas(){

			if( !navigator.geolocation ){

				alert( "Geolocalización no soportada por este navegador." );
			}else{

				navigator.geolocation.getCurrentPosition(mostrarCoordenadas);
			}

		}

		obtenerCoordenadas();

	</script>

	<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQGTJGHCuergq6RDLu5EOv5OcIy79LtFE&callback=initMap"></script>


</body>
</html>
